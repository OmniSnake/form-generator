<div class="form-check">
  <div class="label-container">
    <label *ngIf="label">{{ label }}</label>
    <span *ngIf="required" class="field-mark">*</span>
  </div>
  <div>
    <div *ngIf="selectAll">
      <input 
        type="checkbox" 
        [checked]="isAllSelected()" 
        (change)="onCheckboxChange('selectAll', $event)"
        id="checkbox-{{ label }}-selectAll" 
        class="form-check-input"
      />
      <label for="checkbox-{{ label }}-selectAll" class="form-check-label">Выделить все</label>
    </div>
    <div *ngFor="let option of options; let i = index">
      <input 
        type="checkbox" 
        [value]="option" 
        [checked]="isOptionSelected(option)" 
        (change)="onCheckboxChange(option, $event)"
        id="checkbox-{{ label }}-{{ i }}" 
        class="form-check-input"
      />
      <label for="checkbox-{{ label }}-{{ i }}" class="form-check-label">{{ option }}</label>
    </div>
  </div>
</div>