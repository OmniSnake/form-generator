<div class="form-group">
  <div class="input-row">
    <div class="label-container">
      <label>{{ label }}</label>
      <span *ngIf="required" class="field-mark">*</span>
    </div>
    <div class="checkbox-group">
      <div class="checkbox-item" *ngFor="let option of options; let i = index">
        <input 
          type="checkbox" 
          [value]="option" 
          [checked]="isOptionSelected(option)" 
          (change)="onCheckboxChange(option, $event)"
          id="checkbox-{{ label }}-{{ i }}" 
          class="form-check-input"
        />
        <label for="checkbox-{{ label }}-{{ i }}" class="form-check-label">{{ option }}</label>
      </div>
      <div 
        class="checkbox-item select-all"
        *ngIf="selectAll"
        [ngClass]="{'end-of-first-column': isEven, 'end-of-second-column': !isEven}"
      >
        <input 
          type="checkbox" 
          [checked]="isAllSelected()" 
          (change)="onCheckboxChange('selectAll', $event)"
          id="checkbox-{{ label }}-selectAll" 
          class="form-check-input"
        />
        <label for="checkbox-{{ label }}-selectAll" class="form-check-label"><strong>Выделить все</strong></label>
      </div>
    </div>
  </div>
</div>